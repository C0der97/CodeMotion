<div class="flex h-screen w-full bg-slate-950 overflow-hidden text-slate-200">
  
  <!-- Sidebar -->
  <aside class="w-64 bg-slate-900 border-r border-slate-800 flex flex-col shrink-0 transition-all duration-300">
    <div class="p-6 border-b border-slate-800">
      <h1 class="text-xl font-bold bg-gradient-to-r from-indigo-400 to-cyan-400 bg-clip-text text-transparent">
        CodeMotion
      </h1>
      <p class="text-xs text-slate-500 mt-1">Interactive Tutor</p>
    </div>

    <nav class="flex-1 overflow-y-auto p-4 space-y-6">
      @for (mod of modules; track mod.id) {
        <div>
          <h2 class="text-xs font-bold text-slate-500 uppercase tracking-wider mb-3">{{ mod.title }}</h2>
          <ul class="space-y-1">
            @for (lesson of mod.lessons; track lesson.id) {
              <li>
                <button 
                  (click)="selectLesson(lesson.id)"
                  class="w-full text-left px-3 py-2 rounded-lg text-sm transition-all duration-200"
                  [class.bg-indigo-600]="activeLesson().id === lesson.id"
                  [class.text-white]="activeLesson().id === lesson.id"
                  [class.text-slate-400]="activeLesson().id !== lesson.id"
                  [class.hover:bg-slate-800]="activeLesson().id !== lesson.id"
                >
                  {{ lesson.title }}
                </button>
              </li>
            }
          </ul>
        </div>
      }
    </nav>
  </aside>

  <!-- Main Content -->
  <main class="flex-1 flex flex-col h-full overflow-hidden">
    <!-- Header -->
    <header class="h-16 border-b border-slate-800 flex items-center justify-between px-8 bg-slate-950/50 backdrop-blur">
      <div>
        <h2 class="text-lg font-medium text-white">{{ activeLesson().title }}</h2>
        <p class="text-sm text-slate-400">{{ activeLesson().description }}</p>
      </div>
    </header>

    <!-- Content Area -->
    <div class="flex-1 p-6 flex flex-col gap-6 overflow-hidden">
      
      <!-- Visualization Stage -->
      <div class="flex-1 min-h-0 bg-slate-900 rounded-2xl border border-slate-800 shadow-xl overflow-hidden relative">
        <app-visualizer [lesson]="activeLesson()"></app-visualizer>
      </div>

    </div>
  </main>

</div>